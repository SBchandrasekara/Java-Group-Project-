
package ContactServlet;

import java.io.IOException;
import java.sql.*;


import jakarta.servlet.ServletException;

import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;




<%  
// Initialize variables for form submission messages
String successMessage = "";
String errorMessage = "";
// Check if form is submitted
if (request.getParameter("submit") != null) {
    String firstName = request.getParameter("first-name");
    String lastName = request.getParameter("last-name");
    String email = request.getParameter("email");
    String phone = request.getParameter("phone");
    String message = request.getParameter("message");

    Connection connection = null;
    PreparedStatement statement = null;

 try {
        // Database connection details
        String dbURL = "jdbc:mysql://localhost:3308/abc_db";
        String dbUser = "root";
        String dbPassword = "12345678";

        // Establish connection
        Class.forName("com.mysql.cj.jdbc.Driver");
        connection = DriverManager.getConnection(dbURL, dbUser, dbPassword);

        // Insert query
        String query = "INSERT INTO contacts (first_name, last_name, email, phone, message) VALUES (?, ?, ?, ?, ?)";
        statement = connection.prepareStatement(query);
        statement.setString(1, firstName);
        statement.setString(2, lastName);
        statement.setString(3, email);
        statement.setString(4, phone);
        statement.setString(5, message);



  	<description></description>
  	<servlet-class>CompleteBookingServlet.CompleteBookingServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>Login</servlet-name>
  	<display-name>Login</display-name>
  	<description></description>
  	<servlet-class>SignUpServlet.Login</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>SignUp</servlet-name>
  	<display-name>SignUp</display-name>
  	<description></description>
  	<servlet-class>SignUpServlet.SignUp</servlet-class>
  </servlet>
    <servlet-mapping>
  	<servlet-name>AddMovieServlet</servlet-name>
  	<url-pattern>/AddMovieServlet</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>AdminServlet</servlet-name>
  	<url-pattern>/AdminServlet</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>BookingServlet</servlet-name>
  	<url-pattern>/BookingServlet</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>CompleteBookingServlet</servlet-name>
  	<url-pattern>/CompleteBookingServlet</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>Login</servlet-name>
  	<url-pattern>/Login</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>SignUp</servlet-name>
  	<url-pattern>/SignUp</url-pattern>
  </servlet-mapping>
</web-app>
